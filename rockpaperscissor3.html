<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissor</title>
    </head>
    <body>
        <h1>Rock Paper Scissors</h1>
        <button onclick = "playGame('Rock');">Rock</button>

        <button onclick = "playGame('Paper');">Paper</button>

        <button onclick = "playGame('Scissor');">Scissor</button>

        <button onclick = "playGame('Reset');">Reset Score</button>

        <script>
            const scores=JSON.parse(localStorage.getItem('score'));
            function playGame(pmove){
                let cmove='';
                const rm=Math.random();
                if(rm>=0 && rm<1/3) cmove='Rock';
                else if(rm>=1/3 && rm<2/3) cmove='Paper';
                else if(rm>=2/3 && rm<1) cmove='Scissor';
                console.log(cmove);
                let res='';
                if(cmove===pmove){
                    res='Tie.';
                    scores.tie+=1;
                }
                else if((pmove === 'Rock' && cmove==='Paper') || (pmove==='Paper' && cmove==='Scissor') || (pmove==='Scissor' && cmove==='Rock')){
                    res='You lose.';
                    scores.lose+=1;
                }
                else{
                    res='You win.';
                    scores.win+=1;
                }
                localStorage.setItem('score',JSON.stringify(scores));
                if(pmove === 'Reset'){
                    scores.win=0;
                    scores.lose=0;
                    scores.tie=0;
                    alert('Score Reset.');
                    localStorage.removeItem('score');
                }
                else{
                    alert(`You picked ${pmove}. Computer pick ${cmove}. ${res}\nWins: ${scores.win}, Losses: ${scores.lose}, Ties: ${scores.tie}`);
                }
            }
        </script>
    </body>
</html>